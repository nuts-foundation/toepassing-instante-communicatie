<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="598px" preserveAspectRatio="none" style="width:1141px;height:598px;background:#FFFFFF;" version="1.1" viewBox="0 0 1141 598" width="1141px" zoomAndPan="magnify"><title>Matrix Architecture met Identity Services</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="327.9609" x="399.7647" y="22.9951">Matrix Architecture met Identity Services</text><!--entity MHS--><g class="entity" data-entity="MHS" data-source-line="4" data-uid="ent0002" id="entity_MHS"><rect fill="#ADD8E6" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174.1895" x="722.31" y="55.4169"/><rect fill="#ADD8E6" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="876.4995" y="60.4169"/><rect fill="#ADD8E6" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="874.4995" y="62.4169"/><rect fill="#ADD8E6" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="874.4995" y="66.4169"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.1895" x="737.31" y="88.412">Matrix Homeserver</text></g><!--entity MAS--><g class="entity" data-entity="MAS" data-source-line="5" data-uid="ent0003" id="entity_MAS"><rect fill="#90EE90" height="62.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="258.415" x="846.2" y="247.3669"/><rect fill="#90EE90" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1084.615" y="252.3669"/><rect fill="#90EE90" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1082.615" y="254.3669"/><rect fill="#90EE90" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1082.615" y="258.3669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.543" x="861.2" y="280.362">MAS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218.415" x="861.2" y="296.6589">(Matrix Authentication Service)</text></g><!--entity FIdP--><g class="entity" data-entity="FIdP" data-source-line="6" data-uid="ent0004" id="entity_FIdP"><rect fill="#FFA500" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137.3984" x="969.71" y="421.1469"/><rect fill="#FFA500" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1087.1084" y="426.1469"/><rect fill="#FFA500" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1085.1084" y="428.1469"/><rect fill="#FFA500" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1085.1084" y="432.1469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.3984" x="984.71" y="454.142">Federated IdP</text></g><!--entity IS--><g class="entity" data-entity="IS" data-source-line="7" data-uid="ent0005" id="entity_IS"><rect fill="#FFFF00" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149.8467" x="546.48" y="421.1469"/><rect fill="#FFFF00" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="676.3267" y="426.1469"/><rect fill="#FFFF00" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="674.3267" y="428.1469"/><rect fill="#FFFF00" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="674.3267" y="432.1469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.8467" x="561.48" y="454.142">Identity Service</text></g><!--entity RS--><g class="entity" data-entity="RS" data-source-line="8" data-uid="ent0006" id="entity_RS"><rect fill="#D3D3D3" height="62.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170.5869" x="237.11" y="47.2669"/><rect fill="#D3D3D3" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="387.6969" y="52.2669"/><rect fill="#D3D3D3" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="385.6969" y="54.2669"/><rect fill="#D3D3D3" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="385.6969" y="58.2669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.7725" x="252.11" y="80.262">REST Store</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.5869" x="252.11" y="96.5589">(Delegation Layer)</text></g><!--entity RB--><g class="entity" data-entity="RB" data-source-line="9" data-uid="ent0007" id="entity_RB"><rect fill="#FFC0CB" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152.9639" x="61.92" y="255.5169"/><rect fill="#FFC0CB" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="194.8839" y="260.5169"/><rect fill="#FFC0CB" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="192.8839" y="262.5169"/><rect fill="#FFC0CB" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="192.8839" y="266.5169"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.9639" x="76.92" y="288.512">REST Bridge/API</text></g><!--entity mCSD--><g class="entity" data-entity="mCSD" data-source-line="10" data-uid="ent0008" id="entity_mCSD"><path d="M6,423.4969 C6,413.4969 138.4043,413.4969 138.4043,413.4969 C138.4043,413.4969 270.8086,413.4969 270.8086,423.4969 L270.8086,465.0906 C270.8086,475.0906 138.4043,475.0906 138.4043,475.0906 C138.4043,475.0906 6,475.0906 6,465.0906 L6,423.4969" fill="#E0FFFF" style="stroke:#181818;stroke-width:0.5;"/><path d="M6,423.4969 C6,433.4969 138.4043,433.4969 138.4043,433.4969 C138.4043,433.4969 270.8086,433.4969 270.8086,423.4969" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.0801" x="16" y="450.492">mCSD</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244.8086" x="16" y="466.7889">(mHealth Care Services Discovery)</text></g><g class="entity" data-entity="GMN18" data-source-line="25" data-uid="ent0019" id="entity_GMN18"><path d="M442.66,43.2969 L442.66,74.5669 L408.07,78.5669 L442.66,82.5669 L442.66,113.8281 A0,0 0 0 0 442.66,113.8281 L632.1522,113.8281 A0,0 0 0 0 632.1522,113.8281 L632.1522,53.2969 L622.1522,43.2969 L442.66,43.2969 A0,0 0 0 0 442.66,43.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M622.1522,43.2969 L622.1522,53.2969 L632.1522,53.2969 L622.1522,43.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.5781" x="448.66" y="60.3638">REST Store fungeert als</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.7207" x="448.66" y="75.4966">delegation layer die</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.4922" x="448.66" y="90.6294">verwijst naar REST Bridge</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.416" x="448.66" y="105.7622">endpoints</text></g><g class="entity" data-entity="GMN21" data-source-line="32" data-uid="ent0022" id="entity_GMN21"><path d="M249.54,235.8269 L249.54,274.6669 L215.12,278.6669 L249.54,282.6669 L249.54,321.4909 A0,0 0 0 0 249.54,321.4909 L461.268,321.4909 A0,0 0 0 0 461.268,321.4909 L461.268,245.8269 L451.268,235.8269 L249.54,235.8269 A0,0 0 0 0 249.54,235.8269" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M451.268,235.8269 L451.268,245.8269 L461.268,245.8269 L451.268,235.8269" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185.0342" x="255.54" y="252.8938">REST Bridge implementeert:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.4214" x="255.54" y="268.0266">- /directory endpoint</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.4644" x="255.54" y="283.1594">- /single endpoint</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6099" x="255.54" y="298.2922">- /bulk endpoint</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.728" x="255.54" y="313.425">Voor 3PID mapping operaties</text></g><g class="entity" data-entity="GMN24" data-source-line="40" data-uid="ent0025" id="entity_GMN24"><path d="M777.74,416.5969 L777.74,471.9953 A0,0 0 0 0 777.74,471.9953 L935.0623,471.9953 A0,0 0 0 0 935.0623,471.9953 L935.0623,448.2869 L969.55,444.2869 L935.0623,440.2869 L935.0623,426.5969 L925.0623,416.5969 L777.74,416.5969 A0,0 0 0 0 777.74,416.5969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M925.0623,416.5969 L925.0623,426.5969 L935.0623,426.5969 L925.0623,416.5969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6372" x="783.74" y="433.6638">Geconfigureerd bij</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.3223" x="783.74" y="448.7966">de MAS voor externe</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.3091" x="783.74" y="463.9294">authenticatie</text></g><g class="entity" data-entity="GMN27" data-source-line="46" data-uid="ent0028" id="entity_GMN27"><path d="M521.79,536.0869 L521.79,591.4853 A0,0 0 0 0 521.79,591.4853 L721.0258,591.4853 A0,0 0 0 0 721.0258,591.4853 L721.0258,546.0869 L711.0258,536.0869 L625.4,536.0869 L621.4,467.6669 L617.4,536.0869 L521.79,536.0869 A0,0 0 0 0 521.79,536.0869" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M711.0258,536.0869 L711.0258,546.0869 L721.0258,546.0869 L711.0258,536.0869" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.4561" x="527.79" y="553.1538">Identity Service gebruikt</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.813" x="527.79" y="568.2866">REST Store als delegation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.2358" x="527.79" y="583.4194">layer naar externe services</text></g><!--link MHS to MAS--><g class="link" data-entity-1="MHS" data-entity-2="MAS" data-source-line="13" data-uid="lnk9" id="link_MHS_MAS"><path d="M828.12,101.9069 C857.89,137.4169 912.2061,202.2483 945.8461,242.3883" fill="none" id="MHS-to-MAS" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="949.7,246.9869,946.9848,237.5197,946.4884,243.1547,940.8534,242.6583,949.7,246.9869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.2358" x="913.15" y="171.8938">Authenticatie</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.4751" x="928.5304" y="187.0266">requests</text></g><!--link MAS to FIdP--><g class="link" data-entity-1="MAS" data-entity-2="FIdP" data-source-line="14" data-uid="lnk10" id="link_MAS_FIdP"><path d="M958.14,310.1869 C948.43,331.6769 940.43,360.5869 952.4,383.4969 C960.58,399.1269 969.8417,408.2698 984.4817,417.6098" fill="none" id="MAS-to-FIdP" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="989.54,420.8369,984.104,412.6241,985.3248,418.1477,979.8012,419.3685,989.54,420.8369" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.3838" x="963.3626" y="364.5638">Federated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.3091" x="953.4" y="379.6966">authenticatie</text></g><!--link FIdP to MAS--><g class="link" data-entity-1="FIdP" data-entity-2="MAS" data-source-line="15" data-uid="lnk11" id="link_FIdP_MAS"><path d="M1045.15,420.9169 C1049.7,401.7869 1053.41,373.8669 1044.4,351.4969 C1038.14,335.9369 1031.0152,326.0463 1019.2352,314.5563" fill="none" id="FIdP-to-MAS" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1014.94,310.3669,1018.5898,319.5145,1018.5193,313.8581,1024.1757,313.7876,1014.94,310.3669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.5703" x="1050.92" y="364.5638">Auth tokens/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.7739" x="1071.3182" y="379.6966">claims</text></g><!--link IS to RS--><g class="link" data-entity-1="IS" data-entity-2="RS" data-source-line="16" data-uid="lnk12" id="link_IS_RS"><path d="M607.82,420.8469 C583.75,381.7369 531.15,299.2169 478.4,235.8269 C439.66,189.2769 393.7256,144.7301 360.8556,114.3401" fill="none" id="IS-to-RS" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="356.45,110.2669,360.3429,119.3137,360.1213,113.6612,365.7738,113.4396,356.45,110.2669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="579.7977" y="268.2338">API calls</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.6445" x="541.88" y="283.3666">(zoek op email, ura,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.2021" x="565.6012" y="298.4994">uzi, rolCode)</text></g><!--link RS to RB--><g class="link" data-entity-1="RS" data-entity-2="RB" data-source-line="17" data-uid="lnk13" id="link_RS_RB"><path d="M294.06,110.0869 C256.86,150.1269 196.5137,215.101 163.4237,250.721" fill="none" id="RS-to-RB" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="159.34,255.1169,168.3961,251.2455,162.743,251.4536,162.5349,245.8006,159.34,255.1169" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.3369" x="258.64" y="156.8938">Delegeert naar:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.8228" x="278.3971" y="172.0266">/directory</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42.8657" x="288.3756" y="187.1594">/single</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.0112" x="293.8028" y="202.2922">/bulk</text></g><!--link RB to IS--><g class="link" data-entity-1="RB" data-entity-2="IS" data-source-line="18" data-uid="lnk14" id="link_RB_IS"><path d="M186.83,302.2369 C201.37,308.7369 217.43,315.6369 232.4,321.4969 C339.34,363.3069 461.21,399.4272 540.35,421.4672" fill="none" id="RB-to-IS" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="546.13,423.0769,538.5331,416.809,541.3133,421.7355,536.3868,424.5157,546.13,423.0769" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.1499" x="412.7" y="364.5638">Haalt identity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.6196" x="431.9651" y="379.6966">data op</text></g><!--link RB to mCSD--><g class="link" data-entity-1="RB" data-entity-2="mCSD" data-source-line="19" data-uid="lnk15" id="link_RB_mCSD"><path d="M138.4,302.0669 C138.4,330.8669 138.4,374.9669 138.4,407.0969" fill="none" id="RB-to-mCSD" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="138.4,413.0969,142.4,404.0969,138.4,408.0969,134.4,404.0969,138.4,413.0969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.167" x="140.3648" y="364.5638">Synchronisatie</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.0967" x="139.4" y="379.6966">3PID mappings</text></g><!--link MAS to IS--><g class="link" data-entity-1="MAS" data-entity-2="IS" data-source-line="20" data-uid="lnk16" id="link_MAS_IS"><path d="M912.53,310.4569 C869.35,331.4269 810.63,359.6169 758.4,383.4969 C730.79,396.1269 705.308,407.3175 679.798,418.3375" fill="none" id="MAS-to-IS" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="674.29,420.7169,684.1383,420.8198,678.88,418.734,680.9658,413.4757,674.29,420.7169" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.8228" x="832.7472" y="364.5638">Identity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.6572" x="825.33" y="379.6966">verificatie</text></g><!--link MHS to IS--><g class="link" data-entity-1="MHS" data-entity-2="IS" data-source-line="21" data-uid="lnk17" id="link_MHS_IS"><path d="M797.79,102.0469 C764.08,167.2469 669.3045,350.6165 635.7045,415.6365" fill="none" id="MHS-to-IS" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="632.95,420.9669,640.6354,414.8077,635.2454,416.5249,633.5282,411.135,632.95,420.9669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.6255" x="728.9" y="275.7338">3PID lookup</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.4751" x="739.4752" y="290.8666">requests</text></g><!--SRC=[PPHDZzem48Rl-HKZEBILG1nwur29Zsw9r9KGgNhYOk8XpEBOgUtiRlRNTsmJ2Em5MVRC-yuyCy6JLmZFmbjwXuKjJ-InzAr5gD53Bb5xyXqKQ5-fH9TbNs2DHz88fQaRe_dTPTSZZ2vA6rEZunoq8n0EdZS5Z1LL9tzGBTx5Bugz_jhxj_uK34lXoUZUz5kIMFGIbKNKGuqdb6Y5HydrRcFm4nzWRApGrPtROpynE6VX3fKoRyFGtS_Y3nJUMEJwrgYmIaNz5XtQLDBkLf7eFkKkBSaAPujjdeANC6v8dpCfl3W8Xp2gLyMQnUiD2kLFi19ClGSDQtAbONvTyWgn5xUo4tem1uigLkPErBWia9vEVqHSSnWDYN8Z5l-rwBmRPU4zn4LIym73lHR3d54M8nuamPipQZVRwr89gbalJtAx5BBDeHHAEUxkm-0PJ0DO2r8JQAsOx7NxGHEmHgsCvF5ckqloCYH7reZMWnR2plTw9idoJXhRyTcHhXHtCZkqwioPovYPHzkDO8v0bndlTI3DrjUeo93ZYawN9siqkKJb-pPVGoqQ7ayrG9D4ywiS3uEEFPMUSmgA2igOSziC8VEG5bA2Dfw_dF0BDWmGp951PG2t7ODZgrFJGZb-aRU5Ks7XG1BoDPVmHYykeO71cl4RQjaO2fyZdw9dzkYvx3rJ4b3TAAovl-0yvySft61V1TDz0lzm6OOmlFfhZ8KXJiOVrehmKrKAZx6ei5wS-GjBeuzKyJyFMWa7UeaKujAz1bLyzsXrQFHkFnzb3yPxKmVXF11-_E2XmeDjwUplwJFq0N9-Iz0ZvOinkFulyEhu7m00]--></g></svg>