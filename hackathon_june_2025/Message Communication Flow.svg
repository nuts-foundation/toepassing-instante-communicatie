<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2380px" preserveAspectRatio="none" style="width:1904px;height:2380px;background:#FFFFFF;" version="1.1" viewBox="0 0 1904 2380" width="1904px" zoomAndPan="magnify"><title>Healthcare Communication Message Flow</title><defs/><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="513.8203" x="693.6331" y="37.1182">Healthcare Communication Message Flow</text><rect fill="#FFFFFF" height="434.3584" style="stroke:#000000;stroke-width:1;" width="1297.0205" x="15" y="162.5659"/><rect fill="#FFFFFF" height="188.1646" style="stroke:#000000;stroke-width:1;" width="573.2026" x="453.25" y="342.1611"/><rect fill="#FFFFFF" height="140.5659" style="stroke:none;stroke-width:1;" width="573.2026" x="453.25" y="389.7598"/><rect fill="#FFFFFF" height="365.1904" style="stroke:#000000;stroke-width:1;" width="1433.4121" x="15" y="610.9243"/><rect fill="#FFFFFF" height="260.1938" style="stroke:#000000;stroke-width:1;" width="1433.8364" x="453.25" y="1033.9141"/><rect fill="#FFFFFF" height="277.7925" style="stroke:#000000;stroke-width:1;" width="1410.9224" x="15" y="1351.9072"/><rect fill="#FFFFFF" height="354.7598" style="stroke:#000000;stroke-width:1;" width="1461.5854" x="15" y="1687.499"/><rect fill="#FFFFFF" height="144.3652" style="stroke:#000000;stroke-width:1;" width="1226.8901" x="239.6953" y="1890.8936"/><rect fill="#FFFFFF" height="74.9673" style="stroke:none;stroke-width:1;" width="1226.8901" x="239.6953" y="1960.2915"/><rect fill="#FFFFFF" height="210.3945" style="stroke:#000000;stroke-width:1;" width="1171.0244" x="239.6953" y="2100.0581"/><g><title>Healthcare Professional</title><rect fill="#000000" fill-opacity="0.00000" height="2225.686" width="8" x="120.3184" y="101.7666"/><line style="stroke:#000000;stroke-width:1;" x1="124" x2="124" y1="101.7666" y2="2327.4526"/></g><g><title>Element Web Client</title><rect fill="#000000" fill-opacity="0.00000" height="2225.686" width="8" x="331.8408" y="101.7666"/><line style="stroke:#000000;stroke-width:1;" x1="335.6953" x2="335.6953" y1="101.7666" y2="2327.4526"/></g><g><title>Matrix Synapse</title><rect fill="#000000" fill-opacity="0.00000" height="2225.686" width="8" x="530.3633" y="101.7666"/><line style="stroke:#000000;stroke-width:1;" x1="534.25" x2="534.25" y1="101.7666" y2="2327.4526"/></g><g><title>Platform Bridge</title><rect fill="#000000" fill-opacity="0.00000" height="2225.686" width="8" x="795.5933" y="101.7666"/><line style="stroke:#000000;stroke-width:1;" x1="798.9229" x2="798.9229" y1="101.7666" y2="2327.4526"/></g><g><title>Healthcare Platform</title><rect fill="#000000" fill-opacity="0.00000" height="2225.686" width="8" x="1005.04" y="101.7666"/><line style="stroke:#000000;stroke-width:1;" x1="1008.2178" x2="1008.2178" y1="101.7666" y2="2327.4526"/></g><g><title>FHIR Server</title><rect fill="#000000" fill-opacity="0.00000" height="2225.686" width="8" x="1204.6099" y="101.7666"/><line style="stroke:#000000;stroke-width:1;" x1="1208.5322" x2="1208.5322" y1="101.7666" y2="2327.4526"/></g><g><title>External User</title><rect fill="#000000" fill-opacity="0.00000" height="2225.686" width="8" x="1356.1152" y="101.7666"/><line style="stroke:#000000;stroke-width:1;" x1="1359.6875" x2="1359.6875" y1="101.7666" y2="2327.4526"/></g><g><title>External Element</title><rect fill="#000000" fill-opacity="0.00000" height="2225.686" width="8" x="1507.7266" y="101.7666"/><line style="stroke:#000000;stroke-width:1;" x1="1511.543" x2="1511.543" y1="101.7666" y2="2327.4526"/></g><g><title>External Synapse</title><rect fill="#000000" fill-opacity="0.00000" height="2225.686" width="8" x="1673.1499" y="101.7666"/><line style="stroke:#000000;stroke-width:1;" x1="1676.9102" x2="1676.9102" y1="101.7666" y2="2327.4526"/></g><g class="participant participant-head" data-participant="User"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="178.6367" x="35" y="69.752"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="164.6367" x="42" y="90.8271">Healthcare Professional</text></g><g class="participant participant-tail" data-participant="User"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="178.6367" x="35" y="2326.4526"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="164.6367" x="42" y="2347.5278">Healthcare Professional</text></g><g class="participant participant-head" data-participant="Element"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="152.291" x="259.6953" y="69.752"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="138.291" x="266.6953" y="90.8271">Element Web Client</text></g><g class="participant participant-tail" data-participant="Element"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="152.291" x="259.6953" y="2326.4526"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="138.291" x="266.6953" y="2347.5278">Element Web Client</text></g><g class="participant participant-head" data-participant="Synapse"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="122.2266" x="473.25" y="69.752"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="108.2266" x="480.25" y="90.8271">Matrix Synapse</text></g><g class="participant participant-tail" data-participant="Synapse"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="122.2266" x="473.25" y="2326.4526"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="108.2266" x="480.25" y="2347.5278">Matrix Synapse</text></g><g class="participant participant-head" data-participant="Bridge"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="123.3408" x="737.9229" y="69.752"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="109.3408" x="744.9229" y="90.8271">Platform Bridge</text></g><g class="participant participant-tail" data-participant="Bridge"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="123.3408" x="737.9229" y="2326.4526"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="109.3408" x="744.9229" y="2347.5278">Platform Bridge</text></g><g class="participant participant-head" data-participant="Platform"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="153.6445" x="932.2178" y="69.752"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="139.6445" x="939.2178" y="90.8271">Healthcare Platform</text></g><g class="participant participant-tail" data-participant="Platform"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="153.6445" x="932.2178" y="2326.4526"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="139.6445" x="939.2178" y="2347.5278">Healthcare Platform</text></g><g class="participant participant-head" data-participant="DataServer"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="134.1553" x="1141.5322" y="52.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="85.5996" x="1165.8101" y="73.8125">FHIR Server</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120.1553" x="1148.5322" y="90.8271">(or Platform API)</text></g><g class="participant participant-tail" data-participant="DataServer"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="134.1553" x="1141.5322" y="2326.4526"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="85.5996" x="1165.8101" y="2347.5278">FHIR Server</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120.1553" x="1148.5322" y="2364.5425">(or Platform API)</text></g><g class="participant participant-head" data-participant="ExtUser"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="108.8555" x="1305.6875" y="69.752"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94.8555" x="1312.6875" y="90.8271">External User</text></g><g class="participant participant-tail" data-participant="ExtUser"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="108.8555" x="1305.6875" y="2326.4526"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94.8555" x="1312.6875" y="2347.5278">External User</text></g><g class="participant participant-head" data-participant="ExtElement"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="134.3672" x="1444.543" y="69.752"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120.3672" x="1451.543" y="90.8271">External Element</text></g><g class="participant participant-tail" data-participant="ExtElement"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="134.3672" x="1444.543" y="2326.4526"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120.3672" x="1451.543" y="2347.5278">External Element</text></g><g class="participant participant-head" data-participant="ExtSynapse"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="136.4795" x="1608.9102" y="69.752"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="122.4795" x="1615.9102" y="90.8271">External Synapse</text></g><g class="participant participant-tail" data-participant="ExtSynapse"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="136.4795" x="1608.9102" y="2326.4526"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="122.4795" x="1615.9102" y="2347.5278">External Synapse</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1892.0864" x="5" y="132.6663"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1897.0864" y1="132.6663" y2="132.6663"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1897.0864" y1="135.6663" y2="135.6663"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="302.3486" x="799.8689" y="121.7666"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="283.9053" x="805.8689" y="138.8364">Bi-directional Message Communication</text><path d="M15,162.5659 L297.853,162.5659 L297.853,170.3652 L287.853,180.3652 L15,180.3652 L15,162.5659" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="434.3584" style="stroke:#000000;stroke-width:1;" width="1297.0205" x="15" y="162.5659"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="237.853" x="30" y="176.6357">Platform &#8594; Matrix Message Flow</text><g class="message" data-participant-1="Platform" data-participant-2="Bridge"><polygon fill="#000000" points="810.5933,209.0642,800.5933,213.0642,810.5933,217.0642,806.5933,213.0642" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="804.5933" x2="1008.04" y1="213.0642" y2="213.0642"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="185.4468" x="816.5933" y="208.3347">New communication created</text></g><path d="M1014,185.3652 L1014,226.3652 L1296,226.3652 L1296,195.3652 L1286,185.3652 L1014,185.3652" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1286,185.3652 L1286,195.3652 L1296,195.3652 L1286,185.3652" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="261.9805" x="1020" y="203.4351">CommunicationRequest/Communication</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="189.1855" x="1020" y="219.2344">or platform-specific message</text><g class="message" data-participant-1="Bridge" data-participant-2="Bridge"><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="841.5933" y1="258.1628" y2="258.1628"/><line style="stroke:#000000;stroke-width:1;" x1="841.5933" x2="841.5933" y1="258.1628" y2="271.1628"/><line style="stroke:#000000;stroke-width:1;" x1="800.5933" x2="841.5933" y1="271.1628" y2="271.1628"/><polygon fill="#000000" points="810.5933,267.1628,800.5933,271.1628,810.5933,275.1628,806.5933,271.1628" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="161.5859" x="806.5933" y="253.4333">Extract message context</text></g><path d="M979.5859,236.9639 L979.5859,277.9639 L1181.5859,277.9639 L1181.5859,246.9639 L1171.5859,236.9639 L979.5859,236.9639" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1171.5859,236.9639 L1171.5859,246.9639 L1181.5859,246.9639 L1171.5859,236.9639" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="181.8477" x="985.5859" y="255.0337">Sender, recipients, content,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="142.5303" x="985.5859" y="270.833">care team association</text><g class="message" data-participant-1="Bridge" data-participant-2="Bridge"><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="841.5933" y1="309.7615" y2="309.7615"/><line style="stroke:#000000;stroke-width:1;" x1="841.5933" x2="841.5933" y1="309.7615" y2="322.7615"/><line style="stroke:#000000;stroke-width:1;" x1="800.5933" x2="841.5933" y1="322.7615" y2="322.7615"/><polygon fill="#000000" points="810.5933,318.7615,800.5933,322.7615,810.5933,326.7615,806.5933,322.7615" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="159.8213" x="806.5933" y="305.032">Resolve Matrix identities</text></g><path d="M977.8213,288.5625 L977.8213,329.5625 L1221.8213,329.5625 L1221.8213,298.5625 L1211.8213,288.5625 L977.8213,288.5625" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1211.8213,288.5625 L1211.8213,298.5625 L1221.8213,298.5625 L1211.8213,288.5625" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="223.666" x="983.8213" y="306.6323">Platform user ID &#8594; Matrix user ID</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="148.5288" x="983.8213" y="322.4316">using stored mappings</text><path d="M453.25,342.1611 L517.2993,342.1611 L517.2993,349.9604 L507.2993,359.9604 L453.25,359.9604 L453.25,342.1611" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="188.1646" style="stroke:#000000;stroke-width:1;" width="573.2026" x="453.25" y="342.1611"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.0493" x="468.25" y="356.231">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="87.5488" x="532.2993" y="355.2202">[Room exists]</text><g class="message" data-participant-1="Bridge" data-participant-2="Synapse"><polygon fill="#000000" points="545.3633,377.7598,535.3633,381.7598,545.3633,385.7598,541.3633,381.7598" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="539.3633" x2="798.5933" y1="381.7598" y2="381.7598"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="206.6035" x="551.3633" y="377.0303">Send message to existing room</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="453.25" x2="1026.4526" y1="390.7598" y2="390.7598"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="122.9229" x="458.25" y="401.8188">[New conversation]</text><g class="message" data-participant-1="Bridge" data-participant-2="Synapse"><polygon fill="#000000" points="545.3633,422.9277,535.3633,426.9277,545.3633,430.9277,541.3633,426.9277" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="539.3633" x2="798.5933" y1="426.9277" y2="426.9277"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="241.23" x="551.3633" y="422.1982">Create new room in care team space</text></g><g class="message" data-participant-1="Bridge" data-participant-2="Synapse"><polygon fill="#000000" points="545.3633,452.7271,535.3633,456.7271,545.3633,460.7271,541.3633,456.7271" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="539.3633" x2="798.5933" y1="456.7271" y2="456.7271"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="118.9106" x="551.3633" y="451.9976">Invite participants</text></g><g class="message" data-participant-1="Bridge" data-participant-2="Synapse"><polygon fill="#000000" points="545.3633,485.5264,535.3633,489.5264,545.3633,493.5264,541.3633,489.5264" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="539.3633" x2="798.5933" y1="489.5264" y2="489.5264"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="124.6172" x="551.3633" y="484.7969">Link room to space</text></g><path d="M804,469.7271 L804,494.7271 L1010,494.7271 L1010,479.7271 L1000,469.7271 L804,469.7271" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1000,469.7271 L1000,479.7271 L1010,479.7271 L1000,469.7271" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="185.8594" x="810" y="487.7969">m.space.parent/child events</text><g class="message" data-participant-1="Bridge" data-participant-2="Synapse"><polygon fill="#000000" points="545.3633,518.3257,535.3633,522.3257,545.3633,526.3257,541.3633,522.3257" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="539.3633" x2="798.5933" y1="522.3257" y2="522.3257"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="135.1099" x="551.3633" y="517.5962">Send initial message</text></g><g class="message" data-participant-1="Synapse" data-participant-2="Element"><polygon fill="#000000" points="346.8408,555.125,336.8408,559.125,346.8408,563.125,342.8408,559.125" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="340.8408" x2="533.3633" y1="559.125" y2="559.125"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="120.2754" x="352.8408" y="554.3955">Message delivered</text></g><g class="message" data-participant-1="Element" data-participant-2="User"><polygon fill="#000000" points="135.3184,584.9243,125.3184,588.9243,135.3184,592.9243,131.3184,588.9243" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="129.3184" x2="334.8408" y1="588.9243" y2="588.9243"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="124.4268" x="141.3184" y="584.1948">Display notification</text></g><path d="M15,610.9243 L297.853,610.9243 L297.853,618.7236 L287.853,628.7236 L15,628.7236 L15,610.9243" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="365.1904" style="stroke:#000000;stroke-width:1;" width="1433.4121" x="15" y="610.9243"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="237.853" x="30" y="624.9941">Matrix &#8594; Platform Message Flow</text><g class="message" data-participant-1="User" data-participant-2="Element"><polygon fill="#000000" points="323.8408,646.5229,333.8408,650.5229,323.8408,654.5229,327.8408,650.5229" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="124.3184" x2="329.8408" y1="650.5229" y2="650.5229"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="150.0205" x="131.3184" y="645.7935">Send message in room</text></g><g class="message" data-participant-1="Element" data-participant-2="Synapse"><polygon fill="#000000" points="522.3633,676.3223,532.3633,680.3223,522.3633,684.3223,526.3633,680.3223" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="335.8408" x2="528.3633" y1="680.3223" y2="680.3223"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="154.7622" x="342.8408" y="675.5928">m.room.message event</text></g><g class="message" data-participant-1="Synapse" data-participant-2="Bridge"><polygon fill="#000000" points="787.5933,717.0212,797.5933,721.0212,787.5933,725.0212,791.5933,721.0212" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="534.3633" x2="793.5933" y1="721.0212" y2="721.0212"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="199.291" x="541.3633" y="716.2917">Forward to Application Service</text></g><path d="M804,693.3223 L804,734.3223 L956,734.3223 L956,703.3223 L946,693.3223 L804,693.3223" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M946,693.3223 L946,703.3223 L956,703.3223 L946,693.3223" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="131.6821" x="810" y="711.3921">Bridge registered as</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="124.1348" x="810" y="727.1914">Application Service</text><g class="message" data-participant-1="Bridge" data-participant-2="Bridge"><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="841.5933" y1="766.1199" y2="766.1199"/><line style="stroke:#000000;stroke-width:1;" x1="841.5933" x2="841.5933" y1="766.1199" y2="779.1199"/><line style="stroke:#000000;stroke-width:1;" x1="800.5933" x2="841.5933" y1="779.1199" y2="779.1199"/><polygon fill="#000000" points="810.5933,775.1199,800.5933,779.1199,810.5933,783.1199,806.5933,779.1199" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="137.9727" x="806.5933" y="761.3904">Extract room context</text></g><path d="M955.9727,744.9209 L955.9727,785.9209 L1193.9727,785.9209 L1193.9727,754.9209 L1183.9727,744.9209 L955.9727,744.9209" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1183.9727,744.9209 L1183.9727,754.9209 L1193.9727,754.9209 L1183.9727,744.9209" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.729" x="961.9727" y="762.9907">Room ID &#8594; Care team</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="217.7056" x="961.9727" y="778.79">User mappings from state events</text><g class="message" data-participant-1="Bridge" data-participant-2="Bridge"><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="841.5933" y1="817.7185" y2="817.7185"/><line style="stroke:#000000;stroke-width:1;" x1="841.5933" x2="841.5933" y1="817.7185" y2="830.7185"/><line style="stroke:#000000;stroke-width:1;" x1="800.5933" x2="841.5933" y1="830.7185" y2="830.7185"/><polygon fill="#000000" points="810.5933,826.7185,800.5933,830.7185,810.5933,834.7185,806.5933,830.7185" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="174.3765" x="806.5933" y="812.989">Resolve platform identities</text></g><path d="M992.3765,796.5195 L992.3765,837.5195 L1236.3765,837.5195 L1236.3765,806.5195 L1226.3765,796.5195 L992.3765,796.5195" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1226.3765,796.5195 L1226.3765,806.5195 L1236.3765,806.5195 L1226.3765,796.5195" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="223.666" x="998.3765" y="814.5894">Matrix user ID &#8594; Platform user ID</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="138.4043" x="998.3765" y="830.3887">FHIR references, etc.</text><g class="message" data-participant-1="Bridge" data-participant-2="DataServer"><polygon fill="#000000" points="1196.6099,871.8171,1206.6099,875.8171,1196.6099,879.8171,1200.6099,875.8171" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="1202.6099" y1="875.8171" y2="875.8171"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="165.02" x="806.5933" y="871.0876">Create platform message</text></g><path d="M1213,848.1182 L1213,889.1182 L1432,889.1182 L1432,858.1182 L1422,848.1182 L1213,848.1182" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1422,848.1182 L1422,858.1182 L1432,858.1182 L1422,848.1182" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="198.8022" x="1219" y="866.188">FHIR Communication resource</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="180.083" x="1219" y="881.9873">or platform-specific API call</text><g class="message" data-participant-1="DataServer" data-participant-2="Platform"><polygon fill="#000000" points="1020.04,912.5161,1010.04,916.5161,1020.04,920.5161,1016.04,916.5161" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1014.04" x2="1207.6099" y1="916.5161" y2="916.5161"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="173.4941" x="1026.04" y="911.7866">Message stored/forwarded</text></g><g class="message" data-participant-1="Platform" data-participant-2="Platform"><line style="stroke:#000000;stroke-width:1;" x1="1009.04" x2="1051.04" y1="950.7151" y2="950.7151"/><line style="stroke:#000000;stroke-width:1;" x1="1051.04" x2="1051.04" y1="950.7151" y2="963.7151"/><line style="stroke:#000000;stroke-width:1;" x1="1010.04" x2="1051.04" y1="963.7151" y2="963.7151"/><polygon fill="#000000" points="1020.04,959.7151,1010.04,963.7151,1020.04,967.7151,1016.04,963.7151" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.5615" x="1016.04" y="945.9856">Process business logic</text></g><path d="M1172.5615,929.5161 L1172.5615,970.5161 L1352.5615,970.5161 L1352.5615,939.5161 L1342.5615,929.5161 L1172.5615,929.5161" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1342.5615,929.5161 L1342.5615,939.5161 L1352.5615,939.5161 L1342.5615,929.5161" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="159.8403" x="1178.5615" y="947.5859">Notifications, workflows,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="103.4478" x="1178.5615" y="963.3853">audit trails, etc.</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1892.0864" x="5" y="1004.0144"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1897.0864" y1="1004.0144" y2="1004.0144"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1897.0864" y1="1007.0144" y2="1007.0144"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="277.0215" x="812.5325" y="993.1147"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="258.5781" x="818.5325" y="1010.1846">Cross-Organization Communication</text><path d="M453.25,1033.9141 L712.6421,1033.9141 L712.6421,1041.7134 L702.6421,1051.7134 L453.25,1051.7134 L453.25,1033.9141" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="260.1938" style="stroke:#000000;stroke-width:1;" width="1433.8364" x="453.25" y="1033.9141"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="214.3921" x="468.25" y="1047.9839">External User Sends Message</text><g class="message" data-participant-1="ExtUser" data-participant-2="ExtElement"><polygon fill="#000000" points="1499.7266,1053.7134,1509.7266,1057.7134,1499.7266,1061.7134,1503.7266,1057.7134" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1360.1152" x2="1505.7266" y1="1057.7134" y2="1057.7134"/></g><g class="message" data-participant-1="ExtElement" data-participant-2="ExtSynapse"><polygon fill="#000000" points="1665.1499,1067.7134,1675.1499,1071.7134,1665.1499,1075.7134,1669.1499,1071.7134" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1511.7266" x2="1671.1499" y1="1071.7134" y2="1071.7134"/></g><g class="message" data-participant-1="ExtSynapse" data-participant-2="Synapse"><polygon fill="#000000" points="545.3633,1108.4124,535.3633,1112.4124,545.3633,1116.4124,541.3633,1112.4124" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="539.3633" x2="1676.1499" y1="1112.4124" y2="1112.4124"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="127.5371" x="551.3633" y="1107.6829">Federated message</text></g><path d="M1682,1084.7134 L1682,1125.7134 L1871,1125.7134 L1871,1094.7134 L1861,1084.7134 L1682,1084.7134" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1861,1084.7134 L1861,1094.7134 L1871,1094.7134 L1861,1084.7134" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="168.9365" x="1688" y="1102.7832">Matrix federation protocol</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="162.8936" x="1688" y="1118.5825">E2E encrypted if enabled</text><g class="message" data-participant-1="Synapse" data-participant-2="Bridge"><polygon fill="#000000" points="787.5933,1149.1113,797.5933,1153.1113,787.5933,1157.1113,791.5933,1153.1113" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="534.3633" x2="793.5933" y1="1153.1113" y2="1153.1113"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="178.5469" x="541.3633" y="1148.3818">Process federated message</text></g><g class="message" data-participant-1="Bridge" data-participant-2="Bridge"><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="841.5933" y1="1187.3103" y2="1187.3103"/><line style="stroke:#000000;stroke-width:1;" x1="841.5933" x2="841.5933" y1="1187.3103" y2="1200.3103"/><line style="stroke:#000000;stroke-width:1;" x1="800.5933" x2="841.5933" y1="1200.3103" y2="1200.3103"/><polygon fill="#000000" points="810.5933,1196.3103,800.5933,1200.3103,810.5933,1204.3103,806.5933,1200.3103" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="194.4795" x="806.5933" y="1182.5808">Resolve external user context</text></g><path d="M1012.4795,1166.1113 L1012.4795,1207.1113 L1241.4795,1207.1113 L1241.4795,1176.1113 L1231.4795,1166.1113 L1012.4795,1166.1113" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1231.4795,1166.1113 L1231.4795,1176.1113 L1241.4795,1176.1113 L1231.4795,1166.1113" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="140.2642" x="1018.4795" y="1184.1812">Check user mappings</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="208.5967" x="1018.4795" y="1199.9805">Validate care team membership</text><g class="message" data-participant-1="Bridge" data-participant-2="DataServer"><polygon fill="#000000" points="1196.6099,1241.4089,1206.6099,1245.4089,1196.6099,1249.4089,1200.6099,1245.4089" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="1202.6099" y1="1245.4089" y2="1245.4089"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="163.1157" x="806.5933" y="1240.6794">Store cross-org message</text></g><path d="M1213,1217.71 L1213,1258.71 L1447,1258.71 L1447,1227.71 L1437,1217.71 L1213,1217.71" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1437,1217.71 L1437,1227.71 L1447,1227.71 L1437,1217.71" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="213.1099" x="1219" y="1235.7798">Mark as external communication</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="134.3989" x="1219" y="1251.5791">for audit/compliance</text><g class="message" data-participant-1="DataServer" data-participant-2="Platform"><polygon fill="#000000" points="1020.04,1282.1079,1010.04,1286.1079,1020.04,1290.1079,1016.04,1286.1079" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1014.04" x2="1207.6099" y1="1286.1079" y2="1286.1079"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="175.5698" x="1026.04" y="1281.3784">External message received</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1892.0864" x="5" y="1322.0076"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1897.0864" y1="1322.0076" y2="1322.0076"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1897.0864" y1="1325.0076" y2="1325.0076"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="283.3501" x="809.3682" y="1311.1079"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="264.9067" x="815.3682" y="1328.1777">Message Threading &amp; Conversations</text><path d="M15,1351.9072 L246.1387,1351.9072 L246.1387,1359.7065 L236.1387,1369.7065 L15,1369.7065 L15,1351.9072" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="277.7925" style="stroke:#000000;stroke-width:1;" width="1410.9224" x="15" y="1351.9072"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="186.1387" x="30" y="1365.9771">Structured Conversations</text><g class="message" data-participant-1="User" data-participant-2="Element"><polygon fill="#000000" points="323.8408,1387.5059,333.8408,1391.5059,323.8408,1395.5059,327.8408,1391.5059" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="124.3184" x2="329.8408" y1="1391.5059" y2="1391.5059"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="187.5225" x="131.3184" y="1386.7764">Start new conversation topic</text></g><g class="message" data-participant-1="Element" data-participant-2="Synapse"><polygon fill="#000000" points="522.3633,1417.3052,532.3633,1421.3052,522.3633,1425.3052,526.3633,1421.3052" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="335.8408" x2="528.3633" y1="1421.3052" y2="1421.3052"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="174.5225" x="342.8408" y="1416.5757">Create child room in space</text></g><g class="message" data-participant-1="Synapse" data-participant-2="Bridge"><polygon fill="#000000" points="787.5933,1447.1045,797.5933,1451.1045,787.5933,1455.1045,791.5933,1451.1045" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="534.3633" x2="793.5933" y1="1451.1045" y2="1451.1045"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="165.001" x="541.3633" y="1446.375">New room creation event</text></g><g class="message" data-participant-1="Bridge" data-participant-2="Bridge"><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="841.5933" y1="1485.3035" y2="1485.3035"/><line style="stroke:#000000;stroke-width:1;" x1="841.5933" x2="841.5933" y1="1485.3035" y2="1498.3035"/><line style="stroke:#000000;stroke-width:1;" x1="800.5933" x2="841.5933" y1="1498.3035" y2="1498.3035"/><polygon fill="#000000" points="810.5933,1494.3035,800.5933,1498.3035,810.5933,1502.3035,806.5933,1498.3035" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="167.3813" x="806.5933" y="1480.574">Inherit care team context</text></g><path d="M985.3813,1464.1045 L985.3813,1505.1045 L1189.3813,1505.1045 L1189.3813,1474.1045 L1179.3813,1464.1045 L985.3813,1464.1045" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1179.3813,1464.1045 L1179.3813,1474.1045 L1189.3813,1474.1045 L1179.3813,1464.1045" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="133.5103" x="991.3813" y="1482.1743">Copy user mappings</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="183.8345" x="991.3813" y="1497.9736">Set appropriate permissions</text><g class="message" data-participant-1="Bridge" data-participant-2="Synapse"><polygon fill="#000000" points="545.3633,1547.3018,535.3633,1551.3018,545.3633,1555.3018,541.3633,1551.3018" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="539.3633" x2="798.5933" y1="1551.3018" y2="1551.3018"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="183.6694" x="551.3633" y="1546.5723">Configure room permissions</text></g><path d="M804,1515.7031 L804,1572.7031 L1011,1572.7031 L1011,1525.7031 L1001,1515.7031 L804,1515.7031" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1001,1515.7031 L1001,1525.7031 L1011,1525.7031 L1001,1515.7031" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="186.9893" x="810" y="1533.7729">Based on conversation type:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="130.5142" x="810" y="1549.5723">Professional-only vs</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.4722" x="810" y="1565.3716">Patient-inclusive</text><g class="message" data-participant-1="Bridge" data-participant-2="DataServer"><polygon fill="#000000" points="1196.6099,1606.8,1206.6099,1610.8,1196.6099,1614.8,1200.6099,1610.8" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="1202.6099" y1="1610.8" y2="1610.8"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="177.0488" x="806.5933" y="1606.0706">Create conversation record</text></g><path d="M1213,1583.1011 L1213,1624.1011 L1410,1624.1011 L1410,1593.1011 L1400,1583.1011 L1213,1583.1011" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1400,1583.1011 L1400,1593.1011 L1410,1593.1011 L1400,1583.1011" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="161.7573" x="1219" y="1601.1709">Link to parent care team</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="176.3125" x="1219" y="1616.9702">Set conversation metadata</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1892.0864" x="5" y="1657.5994"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1897.0864" y1="1657.5994" y2="1657.5994"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1897.0864" y1="1660.5994" y2="1660.5994"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="241.7539" x="830.1663" y="1646.6997"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="223.3105" x="836.1663" y="1663.7695">Message Attachments &amp; Media</text><path d="M15,1687.499 L146.855,1687.499 L146.855,1695.2983 L136.855,1705.2983 L15,1705.2983 L15,1687.499" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="354.7598" style="stroke:#000000;stroke-width:1;" width="1461.5854" x="15" y="1687.499"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="86.855" x="30" y="1701.5688">File Sharing</text><g class="message" data-participant-1="User" data-participant-2="Element"><polygon fill="#000000" points="323.8408,1723.0977,333.8408,1727.0977,323.8408,1731.0977,327.8408,1727.0977" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="124.3184" x2="329.8408" y1="1727.0977" y2="1727.0977"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114.7656" x="131.3184" y="1722.3682">Upload file/image</text></g><g class="message" data-participant-1="Element" data-participant-2="Synapse"><polygon fill="#000000" points="522.3633,1763.7966,532.3633,1767.7966,522.3633,1771.7966,526.3633,1767.7966" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="335.8408" x2="528.3633" y1="1767.7966" y2="1767.7966"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="149.4873" x="342.8408" y="1763.0671">m.room.message (file)</text></g><path d="M539,1740.0977 L539,1781.0977 L720,1781.0977 L720,1750.0977 L710,1740.0977 L539,1740.0977" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M710,1740.0977 L710,1750.0977 L720,1750.0977 L710,1740.0977" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="160.0879" x="545" y="1758.1675">Media stored in Synapse</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="131.1299" x="545" y="1773.9668">with access controls</text><g class="message" data-participant-1="Synapse" data-participant-2="Bridge"><polygon fill="#000000" points="787.5933,1804.4956,797.5933,1808.4956,787.5933,1812.4956,791.5933,1808.4956" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="534.3633" x2="793.5933" y1="1808.4956" y2="1808.4956"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="125.6074" x="541.3633" y="1803.7661">File message event</text></g><g class="message" data-participant-1="Bridge" data-participant-2="Bridge"><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="841.5933" y1="1850.5942" y2="1850.5942"/><line style="stroke:#000000;stroke-width:1;" x1="841.5933" x2="841.5933" y1="1850.5942" y2="1863.5942"/><line style="stroke:#000000;stroke-width:1;" x1="800.5933" x2="841.5933" y1="1863.5942" y2="1863.5942"/><polygon fill="#000000" points="810.5933,1859.5942,800.5933,1863.5942,810.5933,1867.5942,806.5933,1863.5942" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="140.6704" x="806.5933" y="1845.8647">Validate file type/size</text></g><path d="M958.6704,1821.4956 L958.6704,1878.4956 L1132.6704,1878.4956 L1132.6704,1831.4956 L1122.6704,1821.4956 L958.6704,1821.4956" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1122.6704,1821.4956 L1122.6704,1831.4956 L1132.6704,1831.4956 L1122.6704,1821.4956" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="153.6768" x="964.6704" y="1839.5654">Healthcare compliance:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128.8447" x="964.6704" y="1855.3647">No PHI in filenames</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128.9399" x="964.6704" y="1871.1641">Virus scanning, etc.</text><path d="M239.6953,1890.8936 L303.7446,1890.8936 L303.7446,1898.6929 L293.7446,1908.6929 L239.6953,1908.6929 L239.6953,1890.8936" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="144.3652" style="stroke:#000000;stroke-width:1;" width="1226.8901" x="239.6953" y="1890.8936"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.0493" x="254.6953" y="1904.9634">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="97.7432" x="318.7446" y="1903.9526">[Compliant file]</text><g class="message" data-participant-1="Bridge" data-participant-2="DataServer"><polygon fill="#000000" points="1196.6099,1937.3918,1206.6099,1941.3918,1196.6099,1945.3918,1200.6099,1941.3918" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="1202.6099" y1="1941.3918" y2="1941.3918"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="125.4233" x="806.5933" y="1936.6624">Store file reference</text></g><path d="M1213,1913.6929 L1213,1954.6929 L1450,1954.6929 L1450,1923.6929 L1440,1913.6929 L1213,1913.6929" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1440,1913.6929 L1440,1923.6929 L1450,1923.6929 L1440,1913.6929" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="216.9756" x="1219" y="1931.7627">Link to FHIR DocumentReference</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="143.4507" x="1219" y="1947.562">or platform file record</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="239.6953" x2="1466.5854" y1="1961.2915" y2="1961.2915"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.0068" x="244.6953" y="1972.3506">[Non-compliant]</text><g class="message" data-participant-1="Bridge" data-participant-2="Synapse"><polygon fill="#000000" points="545.3633,1993.4595,535.3633,1997.4595,545.3633,2001.4595,541.3633,1997.4595" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="539.3633" x2="798.5933" y1="1997.4595" y2="1997.4595"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="151.0933" x="551.3633" y="1992.73">Delete/redact message</text></g><g class="message" data-participant-1="Bridge" data-participant-2="Element"><polygon fill="#000000" points="346.8408,2023.2588,336.8408,2027.2588,346.8408,2031.2588,342.8408,2027.2588" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="340.8408" x2="798.5933" y1="2027.2588" y2="2027.2588"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="151.7979" x="352.8408" y="2022.5293">Send warning message</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1892.0864" x="5" y="2070.1584"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1897.0864" y1="2070.1584" y2="2070.1584"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1897.0864" y1="2073.1584" y2="2073.1584"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="212.8213" x="844.6326" y="2059.2588"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="194.3779" x="850.6326" y="2076.3286">Message Status &amp; Delivery</text><path d="M239.6953,2100.0581 L454.7998,2100.0581 L454.7998,2107.8574 L444.7998,2117.8574 L239.6953,2117.8574 L239.6953,2100.0581" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="210.3945" style="stroke:#000000;stroke-width:1;" width="1171.0244" x="239.6953" y="2100.0581"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="170.1045" x="254.6953" y="2114.1279">Read Receipts &amp; Status</text><g class="message" data-participant-1="Element" data-participant-2="Synapse"><polygon fill="#000000" points="522.3633,2135.6567,532.3633,2139.6567,522.3633,2143.6567,526.3633,2139.6567" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="335.8408" x2="528.3633" y1="2139.6567" y2="2139.6567"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="103.0732" x="342.8408" y="2134.9272">m.receipt event</text></g><g class="message" data-participant-1="Synapse" data-participant-2="Bridge"><polygon fill="#000000" points="787.5933,2165.4561,797.5933,2169.4561,787.5933,2173.4561,791.5933,2169.4561" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="534.3633" x2="793.5933" y1="2169.4561" y2="2169.4561"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="124.9917" x="541.3633" y="2164.7266">Receipt notification</text></g><g class="message" data-participant-1="Bridge" data-participant-2="DataServer"><polygon fill="#000000" points="1196.6099,2206.155,1206.6099,2210.155,1196.6099,2214.155,1200.6099,2210.155" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="1202.6099" y1="2210.155" y2="2210.155"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.9404" x="806.5933" y="2205.4255">Update message status</text></g><path d="M1213,2182.4561 L1213,2223.4561 L1395,2223.4561 L1395,2192.4561 L1385,2182.4561 L1213,2182.4561" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1385,2182.4561 L1385,2192.4561 L1395,2192.4561 L1385,2182.4561" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="161.1099" x="1219" y="2200.5259">Mark as read in platform</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="134.3989" x="1219" y="2216.3252">for audit/compliance</text><g class="message" data-participant-1="Bridge" data-participant-2="Platform"><polygon fill="#000000" points="997.04,2246.854,1007.04,2250.854,997.04,2254.854,1001.04,2250.854" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="799.5933" x2="1003.04" y1="2250.854" y2="2250.854"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="139.9785" x="806.5933" y="2246.1245">Delivery confirmation</text></g><g class="message" data-participant-1="Platform" data-participant-2="Platform"><line style="stroke:#000000;stroke-width:1;" x1="1009.04" x2="1051.04" y1="2285.053" y2="2285.053"/><line style="stroke:#000000;stroke-width:1;" x1="1051.04" x2="1051.04" y1="2285.053" y2="2298.053"/><line style="stroke:#000000;stroke-width:1;" x1="1010.04" x2="1051.04" y1="2298.053" y2="2298.053"/><polygon fill="#000000" points="1020.04,2294.053,1010.04,2298.053,1020.04,2302.053,1016.04,2298.053" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="131.7773" x="1016.04" y="2280.3235">Update care records</text></g><path d="M1159.7773,2263.854 L1159.7773,2304.854 L1340.7773,2304.854 L1340.7773,2273.854 L1330.7773,2263.854 L1159.7773,2263.854" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1330.7773,2263.854 L1330.7773,2273.854 L1340.7773,2273.854 L1330.7773,2263.854" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="160.1958" x="1165.7773" y="2281.9238">Message delivery logged</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="158.7231" x="1165.7773" y="2297.7231">for healthcare audit trail</text><!--SRC=[ZLTBRYCt4Dth58mNmGnWMK2M1Xp08zcmW8nZM76oqOPcboJ2RB93Kh8r1yW1SiIS9CLVD-dkbgs5q9ygilZgrQlgd-mEQY2De5nEBBS2o1rGONUCQY1pLTTxoHcrN4do7OoXMo2tGhrE9WtLbZFUK6d9MURpeDK63T61YZD23Naoe4lh6u5xuiLVy4pcWkEbDuoFIzllr6h-HbP7IHi3tYvUbtOFWjgDqZNvfdcr3ORXSZpIwE9jqqrfVNktV2Ghq0VGQ_b5wTQCN3yilth71RKqM4mcLrVa6vzMN0Ep7e0MinB9gwl9PAlLlkdM- - -VVqayQu4pmLzhDFqrdkcItCChOSMYJ0ErK7aFgImGpRSxUrbk_GX_xy7OMV5mBV5aJTnaQXfWVCCPgKCSVa7_5_REexXviveocqmn8cdXpVPYM86iG9yJ18OtBk7cFDXAUxwMFXiMQ8ru6iMu3-hKjezWb3X00enNk0wt74nlunQwFRAGB1Svpl7HMkuDbrjYhD9GaPes3TwQRdya37bKgYRmneqDBygu8YF3ELimh0eURd6D_juHX86OF8cSCTrPHvQS-xGIYIvk4S8nqorUfg4CJdalvO6ZTqRga_7_nkLBs0Q3BnVFKQql_BiBN1QHdx4T5nM10yXFeCCbPWeh8sSNFk_WZkRECoh2PLiI5GYEg4MM9nr1IoSobsJ13TBuw69r30xOkiLZjSN4EmwqnEXLcrkgsBn8AiBVvZBRlprZVU5UNoHp3yhWsHANRvL-fRfoW5ytZKZLx2I5H_Xpw2Ei6hR8B8S4rinQZdb-KBO-qsCrwoaVAsQU6BUM7fvK96IZqSXOnz0i_n-KRPAQKuLRrcYPihPmlJnhs20EaW5g2bXsCHH19z9jGRL1v4JC8_2BbxgjyG1xpM14CB4dO6qAqKNGxUkYI0Ve-1mqPxO978YqpkM-Sy6-YaSqvDcfbRiGQijPB-hxZFe8oAlIBnjaja6PfVkAMuAPvo91vMi3kzPSAsEcl-ijbVn7EEjOnqBkW7QjpHF1rOP9n_71d1K6eR6_sLHKtTjOFCaWDNzVL-rjwP8F0VWmpG7H9QkjjXfl0TkEwugZMOuysmH3TzH6AwkO4cjvyyiDIXFJnyQjm3TuGvy5L2VhEULfCxZrU550EgLdzrXHpdV0Ne99gi6r_9CANZbETusXXlePkykEDn-LmyfH48S7Hm2bjoU0qYyE-3PELeuGo5BY6JR35wX6LEOQD5O8RMwJOEA402ZnLKlDL2f_xB1kAzTBVqPkThtJPDnSMRrdTkzKiJ0PqNMBNT4trhmNen0tiQw6z3sgHsXvgI5tdNAC5VUfVVifpMtJTOO-9vPo1nfhjSldA1zKStnFXnLOWZTQDPfxfGDTSp-H3wfpTpGbDtoBw8L8txiLNOWQnDWDdGLonmOkrpB_0fWgAOxaW54ze0sUUCeb4oXX1_YaJXSx83kKxe-uVcp11XhcaGwsW4MnGWsMOgtG7h-khQLiv_9ja67VeU8qOzOjno-ZrOvgX7YOJK-DKBGY6pISyJfLq2T6X2_EvMk_tdm4SIX5ZaNtjNpbTaSeyoBZQA6LCASd31TxVo3fqwxL4HUHp-RCy1zzASY-eRfQnyJVA_9mjtJ1kWKanJrHdBZU6s8ObHAnUz-YtMmzZsjOxpOmGFRboWVODlx16JLnmhVnXM9xbuV7v59qyBHSowqmf2ivJSUpfyRQ1GYmCCCyPPz20mxbG8aDtm7IcuFVyn9LokuT9HTXzZrch7n4HSG_LCp6ipROdY9UiCrOCC2Nk60vHOzdvAdndAdRaQQDOQXzE15t34dOVzGukZsxfj4YmPnYwRgBS7XqYX5wmeOi3yHNVc4StNYrXIg4j-i8dmrHFbN_0m00]--></g></svg>